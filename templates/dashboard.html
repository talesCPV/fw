<template>

    <style>
        @import url("style/menu.css");     
        
        body{
            background-image: url('assets/wallpaper_03.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            background-blend-mode: hard-light;
            background-position: center;
        }        

        #content-screen{
            margin-top: 80px;
        }


    </style>
    
    <nav>        
        <div id="logo"><img src="assets/logo.png" alt="" id="imgLogo"></div>
        <label for="drop" class="toggle">&#9776;</label>
        <input type="checkbox" id="drop" />
        <ul class="menu"></ul>
        <ul class="usr-menu">
            <li>
                <div id="usr-name"></div>
                <ul>
                    <li> <a href="javascript:openHTML('usr_viewUser.html','pop-up','Alteração de Senha')"><span class="mdi mdi-account"></span>Perfil</a></li>
                    <li> <a href="javascript:openHTML('usr_mail.html','pop-up','Comunicação Interna')"><span class="mdi mdi-email-outline"></span>Mens.</a></li>
                    <li> <a href="javascript:openHTML('usr_agenda.html','content-screen')"><span class="mdi mdi-calendar-edit"></span>Agenda</a></li>
                    <li> <a href="javascript:openHTML('usr_config.html','pop-up','Aparência de Sistema')"><span class="mdi mdi-pencil-circle"></span>Config.</a></li>
                    <li> <a href="javascript:logout()"><span class="mdi mdi-power"></span>Logout</a></li>
                </ul>

<!--                <div onclick="javascript:openHTML('viewUser.html','pop-up','Dados do Usuário',{'mode':'user','id':localStorage.getItem('id'),'user':localStorage.getItem('username'),'email':localStorage.getItem('email'),'nome':localStorage.getItem('nome'),'cel':localStorage.getItem('cel'),'class':localStorage.getItem('access')})"></div>-->
            </li>
        </ul>


    </nav>

    <div id="content-screen"></div>
    
</template>
<script>


    openMenu()
    setBarStyle()
    main_data.dashboard.wallpaper = ()=>{
        getConfig(localStorage.getItem('username')).then((json)=>{
            try{
                main_data.dashboard.data = JSON.parse(json)
                if(main_data.dashboard.data.hasOwnProperty('wallpaper')){
                    document.querySelector('body').style.backgroundImage = `url(${main_data.dashboard.data.wallpaper})`
                }
            } catch{
//                console.log('Não existe este registro!')
                return 
            }
        })
    } 

    main_data.dashboard.wallpaper()
    
    document.querySelector('#imgLogo').addEventListener('click',()=>{
        document.querySelector('#content-screen').innerHTML = ''
    })


</script>