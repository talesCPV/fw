<template>

    <style>
        @import url("style/menu.css");     
        
        body{
            background-image: url('assets/wallpaper_03.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            background-blend-mode: hard-light;
            background-position: center;
        }        

        #content-screen{
            margin-top: 80px;
        }


    </style>
    
    <nav>        
        <div id="logo"><img src="assets/logo.png" alt="" id="imgLogo"></div>
        <label for="drop" class="toggle">&#9776;</label>
        <input type="checkbox" id="drop" />
        <ul class="menu"></ul>
        <ul class="usr-menu">
            <li>
                <div id="usr-name"></div>
                <ul>
                    <li> <a href="javascript:openHTML('usr_viewUser.html','pop-up','Alteração de Senha')"><span class="mdi mdi-account"></span>Perfil</a></li>
                    <li> <a href="javascript:openHTML('usr_mail.html','pop-up','Comunicação Interna')"><span class="mdi mdi-email-outline"></span>Mens.</a></li>
                    <li> <a href="javascript:openHTML('usr_agenda.html','content-screen')"><span class="mdi mdi-calendar-edit"></span>Agenda</a></li>
                    <li> <a href="javascript:openHTML('usr_config.html','pop-up','Aparência de Sistema')"><span class="mdi mdi-pencil-circle"></span>Config.</a></li>
                    <li> <a href="javascript:logout()"><span class="mdi mdi-power"></span>Logout</a></li>
                </ul>
            </li>
        </ul>

    </nav>

    <div id="content-screen"></div>
    
</template>
<script>

    const pageData = main_data.dashboard.data
    const pageFunc = main_data.dashboard.func

    openMenu()
    setBarStyle()
    pageFunc.wallpaper = ()=>{
        getConfig(localStorage.getItem('username')).then((json)=>{
            try{
                pageData = JSON.parse(json)
                if(pageData.hasOwnProperty('wallpaper')){
                    document.querySelector('body').style.backgroundImage = `url(${pageData.wallpaper})`
                }else{
                    main_data.dashboard.data.wallpaper = 'assets/wallpaper_03.jpg'
                }
            } catch{
//                console.log('Não existe este registro!')
                return 
            }
        })
    } 

    pageFunc.wallpaper()
    
    document.querySelector('#imgLogo').addEventListener('click',()=>{
        document.querySelector('#content-screen').innerHTML = ''
    })


</script>